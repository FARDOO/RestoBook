<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <title>Document</title>
</head>
<body>
    <header>

    </header>

    <main>
        <div id ="restaurant_card" class="row">
        </div>
    </main>
    
    <script>
        function response_received(response){
            return response.json()
        }  

        function parse_data(content){

            content.forEach(restaurant => {
                const container = document.getElementById("restaurant_card")
                const item = document.createElement("div")
                const image = document.createElement("img")
                image.setAttribute("class","card-img-top")
                image.setAttribute("src",restaurant.image_url)
                image.append(image)
                container.append(item)
                item.setAttribute("class","row-cols-1 row-cols-md-2 g-4")
            }) 

        }

        function request_error(error){
            console.log("ERROR")
            console.log(error)
        }

        let url = 'http://127.0.0.1:5000/restaurants'
        fetch(url)
            .then(response_received)
            .then(parse_data)
            .catch(request_error)
            
/*
        const view_data = (data) => {
            let body = '' 
            console.log(data.restaurants)   

            data.restaurants.forEach(restaurant => { 
                    console.log(restaurant.image_url)               
                    body += '<img src= "'+restaurant.image_url+'" class="card-img-top" alt="...">'+
                            '<div class="card-body"><h5 class="card-title">'+
                            restaurant.name+'</h5><p class="card-text">'+
                            '</p><a href="#" class="btn btn-primary">Go somewhere</a></div>'   
                    document.getElementById('restaurant_card').innerHTML = body
            });
        } 
*/

            

                
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>